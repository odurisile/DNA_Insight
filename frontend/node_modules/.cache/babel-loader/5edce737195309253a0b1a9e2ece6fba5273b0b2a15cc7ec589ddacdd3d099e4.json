{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shiny\\\\Downloads\\\\genome_full_app\\\\frontend\\\\src\\\\pages\\\\UploadPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { LinearProgress, Box, Button, Card, CardContent, Typography } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UploadPage() {\n  _s();\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [processing, setProcessing] = useState(false);\n  const [progress, setProgress] = useState(0);\n  useEffect(() => {\n    if (!processing) return;\n    const t = setInterval(async () => {\n      const r = await fetch(\"http://localhost:5000/progress\");\n      const d = await r.json();\n      setProgress(d.progress);\n    }, 300);\n    return () => clearInterval(t);\n  }, [processing]);\n  async function upload() {\n    if (!file) return alert(\"Select a file\");\n    setUploading(true);\n    const form = new FormData();\n    form.append(\"file\", file);\n    const res = await fetch(\"http://localhost:5000/upload\", {\n      method: \"POST\",\n      body: form\n    });\n    const data = await res.json();\n    setUploading(false);\n    setProcessing(false);\n    if (!res.ok) return alert(data.error);\n    localStorage.setItem(\"report\", JSON.stringify(data));\n    window.location = \"/report\";\n  }\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      maxWidth: 600,\n      margin: \"40px auto\",\n      padding: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        children: \"DNA Insight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: upload,\n        sx: {\n          mt: 2\n        },\n        children: \"Analyze\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 8\n      }, this), uploading && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Uploading\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 22\n      }, this), processing && /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Processing\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: progress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 23\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 4\n  }, this);\n}\n_s(UploadPage, \"Wx3EG84bSaHEa7LEBI4GTDFXWG0=\");\n_c = UploadPage;\nvar _c;\n$RefreshReg$(_c, \"UploadPage\");","map":{"version":3,"names":["React","useState","useEffect","LinearProgress","Box","Button","Card","CardContent","Typography","jsxDEV","_jsxDEV","UploadPage","_s","file","setFile","uploading","setUploading","processing","setProcessing","progress","setProgress","t","setInterval","r","fetch","d","json","clearInterval","upload","alert","form","FormData","append","res","method","body","data","ok","error","localStorage","setItem","JSON","stringify","window","location","sx","maxWidth","margin","padding","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","files","onClick","mt","value","_c","$RefreshReg$"],"sources":["C:/Users/shiny/Downloads/genome_full_app/frontend/src/pages/UploadPage.jsx"],"sourcesContent":["\nimport React,{useState,useEffect} from \"react\";\nimport { LinearProgress, Box, Button, Card, CardContent, Typography } from \"@mui/material\";\n\nexport default function UploadPage(){\n const [file,setFile] = useState(null);\n const [uploading,setUploading] = useState(false);\n const [processing,setProcessing] = useState(false);\n const [progress,setProgress] = useState(0);\n\n useEffect(()=>{\n   if(!processing) return;\n   const t=setInterval(async()=>{\n     const r=await fetch(\"http://localhost:5000/progress\");\n     const d=await r.json();\n     setProgress(d.progress);\n   },300);\n   return()=>clearInterval(t);\n },[processing]);\n\n async function upload(){\n   if(!file) return alert(\"Select a file\");\n   setUploading(true);\n\n   const form=new FormData();\n   form.append(\"file\",file);\n\n   const res=await fetch(\"http://localhost:5000/upload\",{method:\"POST\",body:form});\n   const data=await res.json();\n   setUploading(false);\n   setProcessing(false);\n\n   if(!res.ok) return alert(data.error);\n   localStorage.setItem(\"report\",JSON.stringify(data));\n   window.location=\"/report\";\n }\n\n return(\n   <Card sx={{maxWidth:600,margin:\"40px auto\",padding:3}}>\n     <CardContent>\n       <Typography variant=\"h4\">DNA Insight</Typography>\n       <input type=\"file\" onChange={e=>setFile(e.target.files[0])}/>\n       <Button variant=\"contained\" onClick={upload} sx={{mt:2}}>Analyze</Button>\n       {uploading && <Box><p>Uploading…</p><LinearProgress/></Box>}\n       {processing && <Box><p>Processing…</p><LinearProgress variant=\"determinate\" value={progress}/></Box>}\n     </CardContent>\n   </Card>\n );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}